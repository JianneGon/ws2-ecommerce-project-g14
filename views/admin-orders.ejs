<h1 class="page-title">All Orders</h1>

<% if (!orders || !orders.length) { %>
  <p class="no-users-text">No orders have been placed yet.</p>
<% } else { %>

  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Customer Email</th>
          <th>Total Items</th>
          <th>Total Amount</th>
          <th>Status</th>
          <th>Placed On</th>
          <th>Action</th> <!-- Changed from Update -->
        </tr>
      </thead>

      <tbody>
        <% orders.forEach(order => { %>
          <tr>
            <td><%= order.orderId %></td>
            <td><%= order.userEmail %></td>
            <td><%= order.totalQty %></td>
            <td>â‚±<%= order.totalAmount.toFixed(2) %></td>

            <!-- STATUS DISPLAY ONLY -->
<td class="status-text">
  <%= order.status.replace(/_/g, ' ').replace(/\b\w/g, c => c.toUpperCase()) %>
</td>

            <td><%= order.createdAt.toLocaleString() %></td>

            <!-- VIEW ORDER BUTTON -->
            <td>
              <a href="/admin/orders/<%= order.orderId %>" class="btn-primary btn-small">
                View
              </a>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>

<% } %>
